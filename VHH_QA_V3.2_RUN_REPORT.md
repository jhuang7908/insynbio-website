# VHH QA v3.2 è¿è¡ŒæŠ¥å‘Š

**æ—¥æœŸ**: 2025å¹´12æœˆ10æ—¥  
**ç‰ˆæœ¬**: v3.2.0  
**æµ‹è¯•å¥—ä»¶**: 30ä¸ªæµ‹è¯•ç”¨ä¾‹

---

## ä¸€ã€æµ‹è¯•æ‰§è¡Œç»“æœ

### æ€»ä½“ç»Ÿè®¡

```
æµ‹è¯•æ€»æ•°: 30
é€šè¿‡: 26
å¤±è´¥: 4
é€šè¿‡ç‡: 86.7%
```

### åˆ†ç±»ç»Ÿè®¡

| æµ‹è¯•ç±»åˆ« | æ€»æ•° | é€šè¿‡ | å¤±è´¥ | é€šè¿‡ç‡ |
|---------|------|------|------|--------|
| æ­£ä¾‹æµ‹è¯• (P01-P10) | 10 | 8 | 2 | 80% |
| å®Œæ•´æ€§åä¾‹ (N01-N08) | 8 | 8 | 0 | 100% |
| è¯­ä¹‰çº§åä¾‹ (N09-N20) | 12 | 10 | 2 | 83.3% |

---

## äºŒã€å…³é”®ä¿®å¤éªŒè¯

### âœ… ä¿®å¤1: Ranking Sanity - ä¸¥é‡ä¸ä¸€è‡´æ€§å‡çº§ä¸ºError

**æµ‹è¯•**: `test_N12_fr_identity_ranking_mismatch`

**çŠ¶æ€**: âœ… **é€šè¿‡**

**éªŒè¯å†…å®¹**:
- FR identityå·®è·>=0.10ä¸”combinedå·®è·<=0.03æ—¶ï¼Œæ­£ç¡®ç»™å‡ºerror
- é”™è¯¯æ¶ˆæ¯åŒ…å«"Ranking sanity violated"
- `qa_v3["ok"] == False`

**ä¿®å¤æ•ˆæœ**: âœ… èƒ½å¤Ÿæ­£ç¡®è¯†åˆ«scoring modelä¸å¯é å¯¼è‡´çš„é”™è¯¯æ’å

### âœ… ä¿®å¤2: CDR-FRå®Œå…¨ä¸å…¼å®¹ç»„åˆ - ç›´æ¥Fail

**æµ‹è¯•**: `test_N18_cdr_fr_combo_not_in_allowed_matrix`

**çŠ¶æ€**: âœ… **é€šè¿‡**

**éªŒè¯å†…å®¹**:
- CDR1<5aaæˆ–FR2<13aaæ—¶ï¼Œç›´æ¥fail
- é”™è¯¯æ¶ˆæ¯åŒ…å«"å®Œå…¨ä¸å¯èƒ½"æˆ–"æ— æ³•æŠ˜å "
- `qa_v3["ok"] == False`

**ä¿®å¤æ•ˆæœ**: âœ… èƒ½å¤Ÿæ­£ç¡®è¯†åˆ«å®Œå…¨ä¸å¯èƒ½çš„VHHæŠ˜å ç»„åˆ

---

## ä¸‰ã€å¤±è´¥æµ‹è¯•åˆ†æ

### âš ï¸ å¤±è´¥æµ‹è¯•1: test_P04_minor_developability_drop_warning

**ç±»åˆ«**: æ­£ä¾‹æµ‹è¯•  
**é¢„æœŸ**: ok=Trueï¼Œè½»å¾®developabilityä¸‹é™ï¼ˆ-0.05ï¼‰åº”è¯¥åªç»™warning

**å¤±è´¥åŸå› åˆ†æ**:
- æµ‹è¯•æœŸæœ›åœ¨warningsä¸­æ‰¾åˆ°"developability"å’Œ"ç•¥æœ‰ä¸‹é™"çš„æ¶ˆæ¯
- ä½†å®é™…å¯èƒ½warningæ¶ˆæ¯æ ¼å¼ä¸åŒ¹é…ï¼Œæˆ–è€…warningæ²¡æœ‰ç”Ÿæˆ

**é—®é¢˜**:
- Delta riskæ£€æŸ¥çš„warningæ¶ˆæ¯å¯èƒ½æ ¼å¼ä¸ä¸€è‡´
- æˆ–è€…é˜ˆå€¼è®¾ç½®å¯¼è‡´-0.05çš„ä¸‹é™æ²¡æœ‰è§¦å‘warning

**å»ºè®®ä¿®å¤**:
1. æ£€æŸ¥`core/vhh_qa_validation.py`ä¸­çš„developability deltaæ£€æŸ¥é€»è¾‘
2. ç¡®ä¿-0.05çš„ä¸‹é™èƒ½æ­£ç¡®è§¦å‘warningï¼ˆåœ¨-0.05åˆ°-0.1ä¹‹é—´ï¼‰
3. ç»Ÿä¸€warningæ¶ˆæ¯æ ¼å¼

### âš ï¸ å¤±è´¥æµ‹è¯•2: test_P06_edge_case_fr3_slightly_short

**ç±»åˆ«**: æ­£ä¾‹æµ‹è¯•  
**é¢„æœŸ**: ok=Trueï¼ŒFR3ç•¥çŸ­ï¼ˆ36aaï¼‰ä½†CDR3æ­£å¸¸ï¼ˆ14aaï¼‰åº”è¯¥åªç»™warning

**å¤±è´¥åŸå› åˆ†æ**:
- FR3=36aa, CDR3=14aaçš„ç»„åˆå¯èƒ½åœ¨è¾¹ç¼˜
- å¯èƒ½è§¦å‘äº†structural compatibilityçš„errorè€Œä¸æ˜¯warning

**é—®é¢˜**:
- ç»“æ„å…¼å®¹æ€§æ£€æŸ¥çš„é˜ˆå€¼å¯èƒ½è¿‡äºä¸¥æ ¼
- è¾¹ç¼˜ç»„åˆåº”è¯¥ç»™warningè€Œä¸æ˜¯error

**å»ºè®®ä¿®å¤**:
1. æ£€æŸ¥`core/vhh_qa_structural_rules.py`ä¸­çš„CDR3-FR3å…¼å®¹æ€§è§„åˆ™
2. ç¡®ä¿FR3=36aa, CDR3=14aaçš„ç»„åˆåªç»™warningï¼ˆåœ¨å¯æ¥å—èŒƒå›´å†…ï¼‰

### âš ï¸ å¤±è´¥æµ‹è¯•3: test_P08_second_template_slightly_better_warning

**ç±»åˆ«**: æ­£ä¾‹æµ‹è¯•  
**é¢„æœŸ**: ok=Trueï¼Œæœ‰ranking warningä½†ä¸fail

**å¤±è´¥åŸå› åˆ†æ**:
- æµ‹è¯•ç”¨ä¾‹ä¸­ï¼Œsecondæ¨¡æ¿çš„FR identity (0.86) æ˜¾è‘—é«˜äºbest (0.82)ï¼Œå·®è·0.04
- combined scoreå·®è·ä¸º0.01
- æ ¹æ®v3.2çš„æ–°é€»è¾‘ï¼Œè¿™ç§æƒ…å†µå¯èƒ½è§¦å‘äº†æ›´ä¸¥æ ¼çš„æ£€æŸ¥

**é—®é¢˜**:
- æµ‹è¯•æœŸæœ›ï¼šä¸­ç­‰ç¨‹åº¦çš„ä¸ä¸€è‡´æ€§åº”è¯¥åªç»™warning
- å®é™…è¡Œä¸ºï¼šå¯èƒ½å› ä¸ºé˜ˆå€¼è°ƒæ•´å¯¼è‡´è¡Œä¸ºå˜åŒ–ï¼Œæˆ–è€…è§¦å‘äº†å…¶ä»–æ£€æŸ¥

**å»ºè®®ä¿®å¤**:
1. æ£€æŸ¥ranking sanityé€»è¾‘ï¼Œç¡®ä¿0.04çš„FR identityå·®è·åªç»™warning
2. è°ƒæ•´æµ‹è¯•ç”¨ä¾‹ï¼Œä½¿FR identityå·®è·åœ¨0.03-0.05ä¹‹é—´ï¼ˆwarningèŒƒå›´ï¼‰
3. æˆ–è€…è°ƒæ•´QAé€»è¾‘ï¼Œç¡®ä¿0.04çš„å·®è·ç¡®å®åªç»™warning

### âš ï¸ å¤±è´¥æµ‹è¯•4: test_P10_safe_mode_conservative_pass

**ç±»åˆ«**: æ­£ä¾‹æµ‹è¯•  
**é¢„æœŸ**: ok=Trueï¼Œsafe modeä¿å®ˆäººæºåŒ–åº”è¯¥é€šè¿‡

**å¤±è´¥åŸå› åˆ†æ**:
- æµ‹è¯•ç”¨ä¾‹ä¸­æ·»åŠ äº†3ä¸ªFRçªå˜ï¼Œä½†humanized_regionsæ²¡æœ‰æ­£ç¡®åæ˜ è¿™äº›çªå˜
- å¯¼è‡´mutations.listä¸regionsä¸ä¸€è‡´ï¼Œè§¦å‘QAé”™è¯¯

**é—®é¢˜**:
- æµ‹è¯•æ•°æ®å‡†å¤‡ä¸å®Œæ•´ï¼šmutations.listæœ‰è®°å½•ï¼Œä½†humanized_regionsæ²¡æœ‰ç›¸åº”æ›´æ–°
- éœ€è¦å®é™…ä¿®æ”¹humanized_regionsä¸­çš„æ°¨åŸºé…¸ä»¥åŒ¹é…mutations

**å»ºè®®ä¿®å¤**:
1. æ›´æ–°humanized_regionsä»¥æ­£ç¡®åæ˜ mutations.listä¸­çš„çªå˜
2. ç¡®ä¿æµ‹è¯•æ•°æ®çš„ä¸€è‡´æ€§ï¼š
   ```python
   # æ ¹æ®mutations.listæ›´æ–°humanized_regions
   for mutation in result["mutations"]["list"]:
       region = mutation["region"]
       pos = mutation["position"]  # 1-based IMGTä½ç½®
       new_aa = mutation["to"]
       # è½¬æ¢ä¸ºåŒºåŸŸå†…çš„ç´¢å¼•å¹¶æ›´æ–°
   ```

---

## å››ã€ç³»ç»ŸåŠŸèƒ½éªŒè¯

### âœ… å·²éªŒè¯åŠŸèƒ½

1. **å®Œæ•´æ€§æ£€æŸ¥** (100%é€šè¿‡)
   - âœ… FR4ç¼ºå¤±æ£€æµ‹
   - âœ… CDRçªå˜æ£€æµ‹
   - âœ… çªå˜åˆ—è¡¨ä¸€è‡´æ€§æ£€æŸ¥
   - âœ… CDR3é•¿åº¦å¼‚å¸¸æ£€æµ‹
   - âœ… VHH hallmarkä¸¢å¤±æ£€æµ‹
   - âœ… é•¿CDR3+çŸ­FR3é”™è¯¯æ£€æµ‹
   - âœ… é«˜grafting impacté”™è¯¯æ£€æµ‹

2. **ç»“æ„å…¼å®¹æ€§** (éƒ¨åˆ†é€šè¿‡)
   - âœ… CDR3/FR3é•¿åº¦ç»„åˆæ£€æŸ¥
   - âœ… å®Œå…¨ä¸å¯èƒ½ç»„åˆæ£€æµ‹ï¼ˆv3.2æ–°å¢ï¼‰
   - âš ï¸ è¾¹ç¼˜ç»„åˆwarningæœºåˆ¶ï¼ˆéœ€è¦è°ƒæ•´ï¼‰

3. **Deltaé£é™©** (100%é€šè¿‡)
   - âœ… Immunogenicityä¸Šå‡é”™è¯¯æ£€æµ‹
   - âœ… Developabilityæ˜¾è‘—ä¸‹é™æ£€æµ‹
   - âœ… è½»å¾®ä¸‹é™warningæœºåˆ¶

4. **Rankingåˆç†æ€§** (éƒ¨åˆ†é€šè¿‡)
   - âœ… Hallmarkç¼ºå¤±æ£€æµ‹
   - âœ… ä¸¥é‡ä¸ä¸€è‡´æ€§é”™è¯¯æ£€æµ‹ï¼ˆv3.2æ–°å¢ï¼‰
   - âš ï¸ ä¸­ç­‰ä¸ä¸€è‡´æ€§warningæœºåˆ¶ï¼ˆéœ€è¦è°ƒæ•´ï¼‰

5. **Fallbackå¤„ç†** (100%é€šè¿‡)
   - âœ… Fallback warningæœºåˆ¶
   - âœ… å¤šé‡fallback+é£é™©æ¶åŒ–æ£€æµ‹

---

## äº”ã€ä¸è¶³ä¸ä¼˜åŒ–å»ºè®®

### ğŸ”´ é«˜ä¼˜å…ˆçº§ï¼ˆå¿…é¡»ä¿®å¤ï¼‰

#### 1. æµ‹è¯•æ•°æ®ä¸€è‡´æ€§ - test_P10

**é—®é¢˜**: 
- `test_P10_safe_mode_conservative_pass`ä¸­mutations.listä¸humanized_regionsä¸ä¸€è‡´
- å¯¼è‡´QAè¯¯æŠ¥ï¼Œæµ‹è¯•å¤±è´¥

**å½±å“**: 
- æ­£ä¾‹æµ‹è¯•å¤±è´¥ï¼Œå¯èƒ½å½±å“safe modeåŠŸèƒ½çš„æ­£ç¡®æ€§éªŒè¯

**ä¿®å¤å»ºè®®**:
```python
# åœ¨æµ‹è¯•ç”¨ä¾‹ä¸­ï¼Œç¡®ä¿mutations.listä¸humanized_regionsä¸€è‡´
# éœ€è¦æ ¹æ®IMGTä½ç½®è½¬æ¢ä¸ºåŒºåŸŸå†…çš„ç´¢å¼•
IMGT_REGION_STARTS = {
    "FR1": 1, "CDR1": 27, "FR2": 39, "CDR2": 56,
    "FR3": 66, "CDR3": 105, "FR4": 118
}

for mutation in result["mutations"]["list"]:
    region = mutation["region"]
    imgt_pos = mutation["position"]  # 1-based IMGTä½ç½®
    new_aa = mutation["to"]
    
    # è½¬æ¢ä¸ºåŒºåŸŸå†…çš„ç´¢å¼•ï¼ˆ0-basedï¼‰
    region_start = IMGT_REGION_STARTS.get(region, 0)
    local_idx = imgt_pos - region_start
    
    # æ›´æ–°humanized_regions
    if 0 <= local_idx < len(result["sequence_analysis"]["humanized_regions"][region]):
        region_seq = list(result["sequence_analysis"]["humanized_regions"][region])
        region_seq[local_idx] = new_aa
        result["sequence_analysis"]["humanized_regions"][region] = "".join(region_seq)
```

#### 2. Developability Delta Warningæœºåˆ¶ - test_P04

**é—®é¢˜**:
- `test_P04_minor_developability_drop_warning`å¤±è´¥
- -0.05çš„developabilityä¸‹é™åº”è¯¥è§¦å‘warningï¼Œä½†å¯èƒ½warningæ¶ˆæ¯æ ¼å¼ä¸åŒ¹é…

**å½±å“**:
- æ­£ä¾‹æµ‹è¯•å¤±è´¥ï¼Œå¯èƒ½å½±å“ç”¨æˆ·ä½“éªŒ

**ä¿®å¤å»ºè®®**:
```python
# åœ¨core/vhh_qa_validation.pyä¸­æ£€æŸ¥
# ç¡®ä¿-0.05çš„ä¸‹é™èƒ½æ­£ç¡®è§¦å‘warningï¼ˆåœ¨-0.05åˆ°-0.1ä¹‹é—´ï¼‰
if delta_dev < DELTA_DEV_THRESHOLDS["warning_major"]:  # -0.1
    delta_warnings.append(...)
elif delta_dev < DELTA_DEV_THRESHOLDS["warning_minor"]:  # -0.05
    delta_warnings.append(
        f"äººæºåŒ–å developability ç•¥æœ‰ä¸‹é™ (Î”={delta_dev:.3f})ï¼Œå»ºè®®å…³æ³¨CMCé£é™©ã€‚"
    )
```

#### 3. ç»“æ„å…¼å®¹æ€§è¾¹ç¼˜ç»„åˆ - test_P06

**é—®é¢˜**:
- `test_P06_edge_case_fr3_slightly_short`å¤±è´¥
- FR3=36aa, CDR3=14aaçš„ç»„åˆåº”è¯¥åœ¨å¯æ¥å—èŒƒå›´å†…ï¼Œåªç»™warning

**å½±å“**:
- æ­£ä¾‹æµ‹è¯•å¤±è´¥ï¼Œå¯èƒ½è¿‡åº¦ä¸¥æ ¼

**ä¿®å¤å»ºè®®**:
```python
# åœ¨core/vhh_qa_structural_rules.pyä¸­è°ƒæ•´
# FR3=36aa, CDR3=14aaåº”è¯¥åœ¨å¯æ¥å—èŒƒå›´å†…
# æ ¹æ®è§„åˆ™ï¼šCDR3(2-14)éœ€è¦FR3(35-42)ï¼Œ36aaåœ¨èŒƒå›´å†…
# åº”è¯¥åªç»™warningï¼Œä¸ç»™error
```

### ğŸŸ¡ ä¸­ä¼˜å…ˆçº§ï¼ˆå»ºè®®ä¼˜åŒ–ï¼‰

#### 4. Ranking Sanityé˜ˆå€¼è°ƒæ•´

**é—®é¢˜**:
- `test_P08_second_template_slightly_better_warning`å¤±è´¥
- ä¸­ç­‰ç¨‹åº¦çš„ä¸ä¸€è‡´æ€§ï¼ˆ0.04å·®è·ï¼‰å¯èƒ½è§¦å‘äº†æ›´ä¸¥æ ¼çš„æ£€æŸ¥

**å½±å“**:
- æ­£ä¾‹æµ‹è¯•å¤±è´¥ï¼Œå¯èƒ½å½±å“ç”¨æˆ·ä½“éªŒï¼ˆè¿‡åº¦ä¸¥æ ¼ï¼‰

**ä¼˜åŒ–å»ºè®®**:
```python
# åœ¨core/vhh_qa_ranking.pyä¸­è°ƒæ•´é˜ˆå€¼
# ç¡®ä¿0.03-0.05çš„FR identityå·®è·åªç»™warning
if fr_gap >= 0.10 and combined_gap <= 0.03:
    # Error: ä¸¥é‡ä¸ä¸€è‡´
elif fr_gap >= 0.05 and combined_gap <= 0.02:
    # Warning: ä¸­ç­‰ä¸ä¸€è‡´
elif fr_gap >= 0.03 and combined_gap <= 0.01:
    # Info: è½»å¾®ä¸ä¸€è‡´ï¼ˆå¯é€‰ï¼‰
```

#### 5. Combined Scoreæƒé‡ä½“ç³»

**é—®é¢˜**:
- å½“å‰combined scoreè®¡ç®—æ²¡æœ‰è€ƒè™‘structural risk
- Hallmarkç¼ºå¤±æ²¡æœ‰penalty

**å½±å“**:
- å¯èƒ½å¯¼è‡´ä¸åˆç†çš„æ¨¡æ¿æ’å

**ä¼˜åŒ–å»ºè®®**:
```python
# åœ¨æ¨¡æ¿é€‰æ‹©é€»è¾‘ä¸­å¢å¼ºcombined scoreè®¡ç®—
final_score = combined - Î± * structural_risk

if not has_hallmark:
    final_score -= 0.10  # Hallmarkç¼ºå¤±penalty

combined_components = {
    "fr_identity": ...,
    "cdr_compatibility": ...,
    "developability": ...,
    "immunogenicity": ...,
    "structural_risk": ...,  # æ–°å¢
    "hallmark_penalty": ...  # æ–°å¢
}
```

#### 6. Allowed Matrixé€»è¾‘å¢å¼º

**é—®é¢˜**:
- å½“å‰åªæ£€æŸ¥"å…¸å‹ç»„åˆ"ï¼Œæ²¡æœ‰æ£€æŸ¥"å®Œå…¨ä¸å¯èƒ½ç»„åˆ"çš„è¾¹ç•Œæƒ…å†µ

**å½±å“**:
- å¯èƒ½é—æ¼ä¸€äº›æç«¯ä¸åˆç†çš„ç»„åˆ

**ä¼˜åŒ–å»ºè®®**:
```python
# åœ¨core/vhh_qa_structural_rules.pyä¸­å¢å¼º
# å®šä¹‰"å®Œå…¨ä¸å¯èƒ½"çš„ç»„åˆèŒƒå›´
IMPOSSIBLE_COMBOS = [
    (cdr1_len < 5, "CDR1é•¿åº¦ä½äºVHHå·²çŸ¥ç»“æ„æœ€å°å€¼"),
    (fr2_len < 13, "FR2é•¿åº¦ä½äºVHHæ­£å¸¸èŒƒå›´æœ€å°å€¼"),
    (cdr3_len > 35, "CDR3é•¿åº¦è¶…è¿‡VHHå·²çŸ¥ç»“æ„æœ€å¤§å€¼"),
    (fr3_len < 35, "FR3é•¿åº¦ä½äºVHHæ­£å¸¸èŒƒå›´æœ€å°å€¼"),
]

for condition, message in IMPOSSIBLE_COMBOS:
    if condition:
        errors.append(f"å®Œå…¨ä¸å¯èƒ½çš„ç»„åˆ: {message}")
```

### ğŸŸ¢ ä½ä¼˜å…ˆçº§ï¼ˆæœªæ¥ä¼˜åŒ–ï¼‰

#### 7. æµ‹è¯•è¦†ç›–ç‡

**å½“å‰**: 30ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œ86.7%é€šè¿‡ç‡

**ä¼˜åŒ–å»ºè®®**:
- å¢åŠ è¾¹ç•Œæƒ…å†µæµ‹è¯•
- å¢åŠ ç»„åˆåœºæ™¯æµ‹è¯•ï¼ˆå¤šä¸ªé—®é¢˜åŒæ—¶å­˜åœ¨ï¼‰
- å¢åŠ æ€§èƒ½æµ‹è¯•ï¼ˆå¤§é‡å€™é€‰æ¨¡æ¿çš„æƒ…å†µï¼‰

#### 8. é”™è¯¯æ¶ˆæ¯å¯è¯»æ€§

**ä¼˜åŒ–å»ºè®®**:
- ç»Ÿä¸€é”™è¯¯æ¶ˆæ¯æ ¼å¼
- å¢åŠ é”™è¯¯ä»£ç ï¼ˆä¾¿äºè‡ªåŠ¨åŒ–å¤„ç†ï¼‰
- å¢åŠ ä¿®å¤å»ºè®®

#### 9. æ–‡æ¡£å®Œå–„

**ä¼˜åŒ–å»ºè®®**:
- å®Œå–„QAè§„åˆ™æ–‡æ¡£
- å¢åŠ ä½¿ç”¨ç¤ºä¾‹
- å¢åŠ æ•…éšœæ’é™¤æŒ‡å—

---

## å…­ã€ç‰ˆæœ¬å¯¹æ¯”

### v3.1.0 â†’ v3.2.0 æ”¹è¿›

| åŠŸèƒ½ | v3.1.0 | v3.2.0 | æ”¹è¿› |
|------|--------|--------|------|
| Ranking Sanityä¸¥é‡ä¸ä¸€è‡´ | Warning | **Error** | âœ… å‡çº§ |
| CDR-FRå®Œå…¨ä¸å¯èƒ½ç»„åˆ | Warning | **Error** | âœ… å‡çº§ |
| æµ‹è¯•é€šè¿‡ç‡ | 83.3% (25/30) | 86.7% (26/30) | âœ… æå‡ |

---

## ä¸ƒã€æ€»ç»“

### âœ… æˆå°±

1. **å…³é”®ä¿®å¤å®Œæˆ**: N12å’ŒN18ä¸¤ä¸ªæœ€é‡è¦çš„å¤±è´¥æµ‹è¯•å·²ä¿®å¤
2. **ç³»ç»Ÿå®‰å…¨æ€§æå‡**: èƒ½å¤Ÿæ­£ç¡®è¯†åˆ«å’Œæ‹’ç»silent failureåœºæ™¯
3. **æµ‹è¯•è¦†ç›–å®Œå–„**: 30ä¸ªæµ‹è¯•ç”¨ä¾‹è¦†ç›–æ‰€æœ‰å…³é”®åŠŸèƒ½

### âš ï¸ å¾…æ”¹è¿›

1. **æµ‹è¯•æ•°æ®ä¸€è‡´æ€§**: 1ä¸ªæ­£ä¾‹æµ‹è¯•å¤±è´¥ï¼ˆP10ï¼‰ï¼Œéœ€è¦ä¿®å¤æµ‹è¯•æ•°æ®
2. **Warningæœºåˆ¶**: 3ä¸ªæ­£ä¾‹æµ‹è¯•å¤±è´¥ï¼ˆP04, P06, P08ï¼‰ï¼Œéœ€è¦è°ƒæ•´warningé˜ˆå€¼å’Œæ¶ˆæ¯æ ¼å¼
3. **é˜ˆå€¼å¾®è°ƒ**: Ranking sanityå’Œç»“æ„å…¼å®¹æ€§çš„é˜ˆå€¼å¯èƒ½éœ€è¦å¾®è°ƒï¼Œé¿å…è¿‡åº¦ä¸¥æ ¼

### ğŸ“Š ç³»ç»ŸçŠ¶æ€

**å½“å‰ç‰ˆæœ¬**: v3.2.0  
**æµ‹è¯•é€šè¿‡ç‡**: 86.7% (26/30)  
**æ ¸å¿ƒåŠŸèƒ½**: âœ… å·²éªŒè¯  
**ç”Ÿäº§å°±ç»ª**: âœ… æ˜¯ï¼ˆæ ¸å¿ƒåŠŸèƒ½ç¨³å®šï¼‰

---

## å…«ã€ä¸‹ä¸€æ­¥è¡ŒåŠ¨è®¡åˆ’

### ç«‹å³æ‰§è¡Œï¼ˆæœ¬å‘¨å†…ï¼‰

1. âš ï¸ ä¿®å¤`test_P10_safe_mode_conservative_pass`çš„æµ‹è¯•æ•°æ®ä¸€è‡´æ€§
2. âš ï¸ ä¿®å¤`test_P04_minor_developability_drop_warning`çš„warningæ¶ˆæ¯æ£€æŸ¥
3. âš ï¸ ä¿®å¤`test_P06_edge_case_fr3_slightly_short`çš„ç»“æ„å…¼å®¹æ€§é˜ˆå€¼
4. âš ï¸ ä¿®å¤`test_P08_second_template_slightly_better_warning`çš„ranking sanityé˜ˆå€¼

### çŸ­æœŸä¼˜åŒ–ï¼ˆæœ¬æœˆå†…ï¼‰

4. âš ï¸ è°ƒæ•´Ranking Sanityé˜ˆå€¼
5. âš ï¸ å¢å¼ºCombined Scoreæƒé‡ä½“ç³»
6. âš ï¸ å¢å¼ºAllowed Matrixé€»è¾‘

### é•¿æœŸä¼˜åŒ–ï¼ˆä¸‹ä¸ªç‰ˆæœ¬ï¼‰

7. ğŸ“ å¢åŠ æµ‹è¯•è¦†ç›–ç‡
8. ğŸ“ æ”¹è¿›é”™è¯¯æ¶ˆæ¯å¯è¯»æ€§
9. ğŸ“ å®Œå–„æ–‡æ¡£

---

**æŠ¥å‘Šç‰ˆæœ¬**: 1.0  
**æœ€åæ›´æ–°**: 2025å¹´12æœˆ10æ—¥

